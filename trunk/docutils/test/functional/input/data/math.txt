Testing Math
------------

Docutils supports inline math with the prefix or postfix ``:math:``
role specificator, :math:`n! + \sin(x_n^2)` and `A_\text{c} =
\frac{\pi}{4} d^2`:math:, as well as displayed math via the
``math`` directive:

.. math::

   f(\epsilon) = \frac{1}{1 + \exp\left(\frac{\varepsilon}{k_\text{B}T}\right)}

.. In Sphinx, blank lines inside a math directive start a new math
   display.

   Should we handle this:

   * in the parser (adding one node per line),
   * in the writers, or
   * not at all?

.. math::

   N = \frac{\text{number of apples}}{7}

.. math::

   \mathbf{M} = \left(\begin{matrix}a&b\\c&d\end{matrix}\right)

We have :math:`|\mathbf{M}| = ad - bc`.

.. math::

   \int_0^1 x^n dx = \frac{1}{n + 1}

.. math::

   \sum_{n=1}^m n = \frac{m(m+1)}{2}

* tilde: :math:`\tilde{n}`
* hat: :math:`\hat{H}`
* bar: :math:`\bar{v}`

Quantum mechanics:

.. math::

   -\frac{1}{2}\nabla^2 \psi + v \psi = \varepsilon \psi

Math split over two lines:

.. math::

   g(\alpha) = & (1 + \alpha + \alpha^2 + \alpha^3 + \alpha^4\\
               & + \alpha^5)

Cases (realized with a matrix environment):

.. math::

   f(x) = \left\{
     \begin{matrix}
       1 - x, & x < 1 \\
       0,     & x > 1
     \end{matrix}\right.
